/*! Ultimate Branding - v1.9.8.1
 * https://premium.wpmudev.org/project/ultimate-branding/
 * Copyright (c) 2018; * Licensed GPLv2+ */
jQuery(window.document).ready(function(a){"use strict";a(".ub_color_picker").wpColorPicker(),a(".ub_css_editor").each(function(){var b=ace.edit(this.id);a(this).data("editor",b),b.setTheme("ace/theme/monokai"),b.getSession().setMode("ace/mode/css"),b.getSession().setUseWrapMode(!0),b.getSession().setUseWrapMode(!1)}),a(".ub_css_editor").each(function(){var b=this,c=a(a(this).data("input"));a(this).data("editor").getSession().on("change",function(){c.val(a(b).data("editor").getSession().getValue())})})}),jQuery(window.document).ready(function(a){a("#UltimateBrandingAdmin-search-input").on("change keydown keyup blur reset copy paste cut input",function(){var b,c=a(this).val(),d=a("#the-list");return""===c?void a("tr",d).show():(b=new RegExp(c,"i"),void a("td.title",d).each(function(){var c=a(this).html();c.match(b)?a(this).parent().show():a(this).parent().hide()}))})}),jQuery(window.document).ready(function(a){"use strict";a.fn.datepicker&&a(".simple-option input.datepicker").each(function(){a(this).datepicker({altFormat:"yy-mm-dd",altField:"#"+a(this).data("alt")})})}),jQuery(window.document).ready(function(){jQuery("form.tab-export-import #simple_options_import_file").on("change",function(a){var b=jQuery("form.tab-export-import #simple_options_import_button");if(""===jQuery(this).val())b.attr("disabled");else{var c=/json$/i;c.test(jQuery(this).val())&&b.removeAttr("disabled")}})}),jQuery(window.document).ready(function(a){"use strict";var b=a("#ub_main_site_favicon"),c=a("#wp_favicon"),d=a("#wp_favicon_id"),e=a("#wp_favicon_size"),f=a("#wp_login_image"),g=a("#wp_login_image_el"),h=a("#wp_login_image_id"),i=a("#wp_login_image_size"),j=a("#wp_login_image_width"),k=a("#wp_login_image_height"),l=a("#wp_login_image_width_wrap"),m=a("#wp_login_image_height_wrap");f.on("paste",function(b){f.unbind("change"),f.on("change",function(){var b=a(this),c=new window.Image,d=a(c),e=a(".spinner").first().clone();""!==a.trim(b.val())&&(g.prop("src",this.value),h.val(""),i.val(""),j.val(""),k.val("")),c.src=this.value,d.appendTo("body").hide(),g.after(e),e.show(),m.after(e),c.onload=function(){e.remove(),l.show(),m.show(),k.prop("type","number").val(this.height),j.prop("type","number").val(this.width),g.css({height:this.height,width:this.width})}})}),k.on("change",function(){g.css("height",this.value)}),j.on("change",function(){g.css("width",this.value)}),a("#wp_login_image_button").click(function(){return wp.media.editor.send.attachment=function(a,b){var c=a.size&&b.sizes[a.size]?b.sizes[a.size].url:b.url;f.val(c),g.prop("src",c),h.val(b.id),i.val(a.size),m.hide(),l.hide(),k.prop("type","hidden"),j.prop("type","hidden"),g.css({height:"auto",width:"auto"});var d=!!a.size&&b.sizes[a.size];"undefined"!=typeof d&&d!==!1?(j.val(d.width),k.val(d.height)):(j.val(""),k.val(""))},wp.media.string.props=function(b,c){var d=a(".spinner").first().clone(),e=new window.Image,f=a(e),g=a("#wp_login_image_el"),h=a("#wp_login_image");return f.appendTo("body").hide(),e.src=b.url,g.find(".spinner").length||g.before(d.show()),g.hide(),f.on("load",function(){d.remove(),f.remove(),g.prop("src",b.url).show()}),h.val(b.url),b},wp.media.editor.open(),!1}),a("#wp_favicon_button").click(function(a){a.preventDefault(),wp.media.editor.send.attachment=function(a,f){b.prop("src",f.url),c.val(f.url),d.val(f.id),e.val(a.size)},wp.media.editor.open()}),a("#wp_favicon").on("change",function(f){b.prop("src",a(this).val()),c.val(a(this).val()),d.val(""),e.val("full")}),a(window.document).on("click",".ub_favicons_browse",function(b){b.preventDefault();var c=a(this),d=c.closest("tr"),e=d.find(".ub_favicons_fav_url"),f=d.find(".ub_favicons_fav_id"),g=d.find(".ub_favicons_fav_size"),h=d.find(".ub_favicons_fav");wp.media.editor.send.attachment=function(a,b){h.prop("src",b.url),e.val(b.url),f.val(b.id),g.val(a.size)},wp.media.string.props=function(b,c){var d=a(".spinner").first().clone(),f=new window.Image,g=a(f);return g.appendTo("body").hide(),f.src=b.url,h.find(".spinner").length||h.before(d.show()),h.hide(),g.on("load",function(){d.remove(),g.remove(),h.prop("src",b.url).show()}),e.val(b.url),b},wp.media.editor.open()}),a(".ub_favicons_fav_url").on("change",function(b){var c=a(this),d=c.closest("tr"),e=d.find(".ub_favicons_fav_id"),f=d.find(".ub_favicons_fav_size"),g=d.find(".ub_favicons_fav"),h=a(this).val();h.length<3&&(h=g.data("default")),g.prop("src",h),e.val(""),f.val("full")}),a(window.document).on("click",".ub_favicons_save",function(b){var c=a(this),d=c.closest("tr"),e=d.find("input"),f=d.find(".spinner"),g={action:"ub_save_favicon"};e.each(function(){var b=a(this);g[this.name]=b.val()}),b.preventDefault(),f.show(),a.ajax({url:ajaxurl,type:"post",data:g,complete:function(){f.hide()},success:function(){},error:function(){}})}),a(window.document).on("click",".ub_favicons_reset",function(b){var c=a(this),d=c.closest("tr"),e=d.find(".ub_favicons_fav"),f=d.find(".ub_favicons_fav_url"),g=d.find(".spinner"),h=c.data("id"),i=a("#ub_favicons_"+h+"_reset").val(),j={action:"ub_reset_favicon",id:h,nonce:i};b.preventDefault(),g.show(),a.ajax({url:ajaxurl,type:"post",data:j,complete:function(){g.hide()},success:function(a){a.success&&(e.prop("src",a.data.fav),f.val(""))}})})}),jQuery(window.document).ready(function(a){jQuery(".simple-option-media .image-reset").on("click",function(b){var c=a(this).closest(".simple-option-media");a(".image-preview",c).removeAttr("src"),a(".attachment-id",c).removeAttr("value"),a(this).addClass("disabled")}),jQuery(".simple-option-media .button-select-image").on("click",function(b){var c,d,e=a(this).closest(".simple-option-media"),f=a(".attachment-id",e).val();return b.preventDefault(),c?(c.uploader.uploader.param("post_id",f),void c.open()):(wp.media.model.settings.post.id=f,c=wp.media.frames.file_frame=wp.media({title:"Select a image to upload",button:{text:"Use this image"},multiple:!1}),c.on("select",function(){var b=c.state().get("selection").first().toJSON();a(".image-preview",e).attr("src",b.url).css("width","auto"),a(".attachment-id",e).val(b.id),a(".image-reset",e).removeClass("disabled"),wp.media.model.settings.post.id=d}),void c.open())}),jQuery("a.add_media").on("click",function(){wp.media.model.settings.post.id=wp_media_post_id})}),jQuery(window.document).ready(function(){"use strict";null!==window.ub_admin.current_menu_sub_item&&(jQuery("#adminmenu .wp-submenu li.current").removeClass("current"),jQuery('a[href="admin.php?page=branding&tab='+window.ub_admin.current_menu_sub_item+'"]').parent().addClass("current"))}),jQuery(window.document).ready(function(a){function b(a){if(a.loading)return a.text;var b="<div class='select2-result-site clearfix'>";return b+="<div class='select2-result-site__blogname'>"+a.blogname+"</div>",b+="<div class='select2-result-site__siteurl'>"+a.siteurl+"</div>",b+="</div>"}function c(a){return a.blog_id}jQuery.fn.select2&&(a(".ub-select2").select2(),a(".ub-select2-ajax").select2({ajax:{url:ajaxurl,dataType:"json",delay:250,data:function(b){var c={user_id:a(this).data("user-id"),_wpnonce:a(this).data("nonce"),action:a(this).data("action"),page:b.page,q:b.term};return c},processResults:function(a,b){return b.page=b.page||1,{results:a.data,pagination:{more:30*b.page<a.total_count}}},cache:!0},minimumInputLength:1,escapeMarkup:function(a){return a},templateResult:b,templateSelection:c}))}),jQuery(window.document).ready(function(a){"use strict";a.fn.slider&&a(".simple-option div.ui-slider").each(function(){var b=a(this).data("target-id");if(b){var c=a("#"+b),d=c.val(),e=a(this).data("max")||100,f=a(this).data("min")||0;a(this).slider({value:d,min:f,max:e,slide:function(a,b){c.val(b.value)}})}}),a("table.sortable").sortable({items:"tr"}),a(".simple-option-reset-section a").on("click",function(){var b={action:"simple_option",tab:a("#ub-tab").val(),nonce:a(this).data("nonce"),network:a(this).data("network"),section:a(this).data("section")};return window.confirm(a(this).data("question"))&&jQuery.post(ajaxurl,b,function(a){a.success&&(window.location.href=a.data.redirect)}),!1})}),jQuery(window.document).ready(function(){"use strict";if(jQuery.fn.switchButton){var a=function(){jQuery(".simple-option .master-field").each(function(){var a=jQuery(this).data("slave");if(a){var b=jQuery(".simple-option."+a);jQuery(".switch-button-background",jQuery(this).closest("td")).hasClass("checked")?b.show():b.hide()}})};jQuery(".simple-option .switch-button").each(function(){var b={checked:jQuery(this).checked,on_label:jQuery(this).data("on")||switch_button.labels.label_on,off_label:jQuery(this).data("off")||switch_button.labels.label_off,on_callback:a,off_callback:a};jQuery(this).switchButton(b)})}}),jQuery(window.document).ready(function(){jQuery("button.handlediv.button-link, .hndle",jQuery(".simple-options, .ultimate-colors")).on("click",function(a){a.preventDefault();var b=jQuery(this).parent(),c=jQuery(this).closest("form");b.toggleClass("closed"),jQuery.post(ajaxurl,{action:"simple_option",close:b.hasClass("closed"),target:b.attr("id"),nonce:jQuery("[name=postboxes_nonce]",c).val(),tab:jQuery("[name=tab]",c).val()})})}),jQuery(window.document).ready(function(a){a(".simple-options .postbox.section-is-slave").each(function(){var b=a(this),c=b.data("master-section"),d=b.data("master-field"),e=b.data("master-value");a('[name="simple_options['+c+"]["+d+']"]').on("change",function(){"checkbox"===a(this).attr("type")?"on"===e&&a(this).is(":checked")?b.show():"off"!==e||a(this).is(":checked")?b.hide():b.show():a(this).val()===e?b.show():b.hide()})})}),jQuery(window.document).ready(function(){"use strict";jQuery.fn.switchButton&&(jQuery("#ultimate-branding-modules .switch-button").switchButton({on_label:jQuery(this).data("enable")||switch_button.labels.label_enable,off_label:jQuery(this).data("disable")||switch_button.labels.label_disable}),jQuery("#ultimate-branding-modules input.switch-button").on("change",function(){var a=jQuery(this),b={action:"ultimate_branding_toggle_module",module:a.val(),nonce:a.data("nonce"),state:a.prop("checked")?"on":"off"};jQuery.post(ajaxurl,b,function(a){a.success&&window.location.reload()})}))}),jQuery(window.document).ready(function(a){var b=a("#login-screen-reset-image");b.on("click",function(){return a("#wp_login_image_el").attr("width",b.data("width")).attr("src",b.data("src")).attr("height",b.data("height")),a("#wp_login_image").val(b.data("src")),a("#wp_login_image_width").val(b.data("width")),a("#wp_login_image_height").val(b.data("height")),a("#wp_login_image_id").val("reset"),!1})}),jQuery(window.document).ready(function(a){var b=a("#favicon-reset-main-image");b.on("click",function(){return a("#ub_main_site_favicon").attr("src",a("#wp_favicon").data("default")),a("#wp_favicon").val(a("#wp_favicon").data("default")),!1})});